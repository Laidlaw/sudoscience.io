// $main-font-color: $color_pickled_bluewood_approx;


// html { font-size: 15px; }
// body {font-family: et-bembo, Palatino, "Palatino Linotype", "Palatino LT STD", "Book Antiqua", Georgia, serif;}

.tufter {
       counter-reset: sidenote-counter;
       img { mix-blend-mode: multiply; }
     }


.tufter {
  // article { position: relative;
  //           padding: 5rem 0rem; }

  section { padding-top: 1rem;
            padding-bottom: 1rem; }

  p, ol, ul { font-size: 1.4rem; }

  p { line-height: 2rem;
      margin-top: 1.4rem;
      margin-bottom: 1.4rem;
      padding-right: 0;
      vertical-align: baseline; }
}


blockquote p { font-size: 1.1rem;
               width: 50%; }

blockquote footer { width: 50%;
                    text-align: right; }
.tufter {
  ul { width: 45%;
       -webkit-padding-start: 5%;
       -webkit-padding-end: 5%;
       list-style-type: none; }

  li { padding: 0.5rem 0; }


  figure { max-width: 55%;
           -webkit-margin-start: 0;
           -webkit-margin-end: 0;
           margin-bottom: 3em; }

  figcaption { float: right;
               clear: right;
               margin-right: -48%;
               margin-top: 0;
               margin-bottom: 0;
               font-size: 1.0rem;
               line-height: 1.6;
               vertical-align: baseline;
               position: relative;
               max-width: 40%; }

  figure.fullwidth figcaption { margin-right: 24%; }

  // a { color: $color_pickled_bluewood_approx;
      text-decoration: none;
      border-bottom: 1px solid #777;
      padding-bottom: 1px; }

  img { max-width: 100%; }

  .sidenote, .marginnote { float: right;
                           clear: right;
                           margin-right: -60%;
                           width: 50%;
                           margin-top: 0;
                           margin-bottom: 0;
                           font-size: 1.1rem;
                           line-height: 1.3;
                           vertical-align: baseline;
                           position: relative; }

  .table-caption { float:right;
                   clear:right;
                   margin-right: -60%;
                   width: 50%;
                   margin-top: 0;
                   margin-bottom: 0;
                   font-size: 1.0rem;
                   line-height: 1.6; }

  .sidenote-number { counter-increment: sidenote-counter; color: material-color('cyan','500');}

  .sidenote-number:after, .sidenote:before { content: counter(sidenote-counter) " ";
                                             font-family: et-bembo-roman-old-style;
                                             position: relative;
                                             vertical-align: baseline; }

  .sidenote-number:after { content: counter(sidenote-counter);
                           font-size: 1rem;
                           top: -0.5rem;
                           left: 0.1rem; }

  .sidenote:before { content: counter(sidenote-counter) " ";
                     top: -0.5rem;
                   color: material-color('cyan','500');}

  // p, footer, div.table-wrapper { width: 55%; }

@media screen and (max-width: 760px) {
  p, div.table-wrapper {
      width: 90%;
  }
  div.table-wrapper { overflow-x: scroll; }
}

@media screen and (max-width: 760px) {
  p { width: 90%; }
  pre.code { width: 87.5%; }
  ul { width: 85%; }
  figure { max-width: 90%; }
  figcaption, figure.fullwidth figcaption { margin-right: 0%; max-width: none; }
  blockquote p, blockquote footer { width: 90%; }}

// .sans { font-family: "Gill Sans", "Gill Sans MT", Calibri, sans-serif;
//         letter-spacing: .03em; }
//
// .code { font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
//         font-size: 1.125rem;
//         line-height: 1.6; }

h1 .code, h2 .code, h3 .code { font-size: 0.80em; }

.marginnote .code, .sidenote .code { font-size: 1rem; }

pre.code { width: 52.5%;
           padding-left: 2.5%;
           overflow-x: scroll; }

.fullwidth { max-width: 90%; }

span.newthought { font-variant: small-caps;
                  font-size: 1.2em; }

input.margin-toggle { display: none; }

label.sidenote-number { display: inline; }

label.margin-toggle:not(.sidenote-number) { display: none; }


  main {
    label.margin-toggle:not(.sidenote-number) { display: inline; }
    .sidenote, .marginnote { display: none; }
    .margin-toggle:checked + .sidenote,
    .margin-toggle:checked + .marginnote {
      display: block;
      float: left;
      left: 1rem;
      clear: both;
      width: 95%;
      margin: 1rem 2.5%;
      vertical-align: baseline;
      position: relative;
    }
    label { cursor: pointer; }
    pre.code { width: 90%;
               padding: 0; }
    .table-caption { display: block;
                     float: right;
                     clear: both;
                     width: 98%;
                     margin-top: 1rem;
                     margin-bottom: 0.5rem;
                     margin-left: 1%;
                     margin-right: 1%;
                     vertical-align: baseline;
                     position: relative; }
    div.table-wrapper, table, table.booktabs { width: 85%; }
    div.table-wrapper { border-right: 1px solid #efefef; }
    img { width: 100%; }
  }
